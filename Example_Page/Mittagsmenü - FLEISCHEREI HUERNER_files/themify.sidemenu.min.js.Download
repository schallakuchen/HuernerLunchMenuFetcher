((i,t)=>{"use strict";const n=[];let l=null;class a{constructor(e,s){this.element=e;const i={panel:"#mobile-menu",close:"",side:"right",hasOverlay:!0,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null},t={"#":"",".":""," ":"-"};!s.panel&&e.hasAttribute("href")&&(s.panel=e.getAttribute("href"),s.panel&&"#"!==s.panel||(s.panel=i.panel)),this.settings=Object.assign({},i,s),this.panelVisible=!1,this.panelCleanName=this.settings.panel.replace(/#|\.|\s/g,e=>t[e]),this.init()}init(){null===l&&!0===this.settings.hasOverlay&&((l=t.createElement("div")).className="body-overlay",l.tfOn(i.click,()=>{for(let e=n.length-1;-1<e;--e)n[e].hidePanel()},{passive:!0}),t.body.appendChild(l)),this.element.tfOn("click",e=>{e.preventDefault(),this.panelVisible?this.hidePanel():(this.showPanel(),e.screenX&&e.screenY||t.querySelector(this.settings.panel+" a")?.focus())}),""!==this.settings.close&&t.querySelector(this.settings.close)?.tfOn("click",e=>{e.preventDefault(),this.hidePanel()})}showPanel(){if(!1===this.panelVisible){i.trigger("tf_fixed_header_remove_revelaing");const e=this.settings.panel,s=t.querySelector(e);s.style.display="block",setTimeout(()=>{this.settings.beforeShow?.call(this),!1===this.panelVisible&&(null!==s&&(s.tfOn("transitionend",()=>{this.settings.afterShow?.call(this),i.trigger("sidemenushow",[e,this.settings.side,this])},{passive:!0,once:!0}).classList.remove("sidemenu-off"),s.classList.add("sidemenu-on")),t.body.classList.add(this.panelCleanName+"-visible","sidemenu-"+this.settings.side),l?.classList.add("body-overlay-on"),this.panelVisible=!0)},5)}}hidePanel(e){if(!0===this.panelVisible){this.settings.beforeHide?.call(this);const s=t.querySelector(this.settings.panel);null!==s&&(s.tfOn("transitionend",function(){this.style.display=""},{passive:!0,once:!0}).classList.remove("sidemenu-on"),s.classList.add("sidemenu-off")),t.body.classList.remove(this.panelCleanName+"-visible"),e!==this.settings.side&&t.body.classList.remove("sidemenu-"+this.settings.side),this.settings.afterHide?.call(this),i.trigger("sidemenuhide.themify",[this.settings.panel]),l?.classList.remove("body-overlay-on"),this.panelVisible=!1}}}i.on("tf_sidemenu_init",(s,i)=>{for(let e=(s=void 0===s.length?[s]:s).length-1;-1<e;--e)n.push(new a(s[e],i))}).on("tf_side_menu_hide_all",()=>{for(let e=n.length-1;-1<e;--e)n[e].hidePanel()}),t.body.classList.add("sidemenu-active"),"undefined"!=typeof themify_vars&&i.on("tfsmartresize",e=>{e?.w>themify_vars.menu_point&&i.trigger("tf_side_menu_hide_all")})})(Themify,document);